{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/redbar/Documents/GitHub/TofuOS/src/lib/supabase/client.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/redbar/Documents/GitHub/TofuOS/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { supabase } from '@/lib/supabase/client';\nimport type { User, Session } from '@supabase/supabase-js';\nimport { useRouter } from 'next/navigation';\n\ninterface AuthContextValue {\n  user: User | null;\n  session: Session | null;\n  isLoading: boolean;\n  signOut: () => Promise<void>;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = React.createContext<AuthContextValue | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = React.useState<User | null>(null);\n  const [session, setSession] = React.useState<Session | null>(null);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const router = useRouter();\n\n  React.useEffect(() => {\n    const setData = async () => {\n      const { data: { session }, error } = await supabase.auth.getSession();\n      setSession(session);\n      setUser(session?.user ?? null);\n      setIsLoading(false);\n    };\n\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setIsLoading(false);\n      \n      if (_event === 'SIGNED_IN') {\n        router.refresh();\n      }\n      if (_event === 'SIGNED_OUT') {\n        router.push('/login');\n        router.refresh();\n      }\n    });\n\n    setData();\n\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, [router]);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, session, isLoading, signOut, isAuthenticated: !!user }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport const useAuth = () => {\n  const context = React.useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;;;AALA;;;;AAeA,MAAM,4BAAc,8KAAmB,CAA+B;AAE/D,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,yKAAc,CAAc;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,yKAAc,CAAiB;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,yKAAc,CAAC;IACjD,MAAM,SAAS,IAAA,kJAAS;IAExB,0KAAe;kCAAC;YACd,MAAM;kDAAU;oBACd,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,UAAU;oBACnE,WAAW;oBACX,QAAQ,SAAS,QAAQ;oBACzB,aAAa;gBACf;;YAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,+IAAQ,CAAC,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAQ;oBAClE,WAAW;oBACX,QAAQ,SAAS,QAAQ;oBACzB,aAAa;oBAEb,IAAI,WAAW,aAAa;wBAC1B,OAAO,OAAO;oBAChB;oBACA,IAAI,WAAW,cAAc;wBAC3B,OAAO,IAAI,CAAC;wBACZ,OAAO,OAAO;oBAChB;gBACF;;YAEA;YAEA;0CAAO;oBACL,SAAS,YAAY,CAAC,WAAW;gBACnC;;QACF;iCAAG;QAAC;KAAO;IAEX,MAAM,UAAU;QACd,MAAM,+IAAQ,CAAC,IAAI,CAAC,OAAO;IAC7B;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAW;YAAS,iBAAiB,CAAC,CAAC;QAAK;kBACvF;;;;;;AAGP;GA5CgB;;QAIC,kJAAS;;;KAJV;AA8CT,MAAM,UAAU;;IACrB,MAAM,UAAU,2KAAgB,CAAC;IACjC,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}}]
}