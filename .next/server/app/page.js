(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},814:(a,b,c)=>{"use strict";c.d(b,{N:()=>g});var d=c(5699);let e="https://zywsedivjfypnzzyoafq.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5d3NlZGl2amZ5cG56enlvYWZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxNzE5MDEsImV4cCI6MjA4Nzc0NzkwMX0.GnTMzJ9SWUDVaPeCawW_2EETfkHu5LngnUtS9orRIqs",g=e&&f?(0,d.UU)(e,f):null},834:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4160,23)),Promise.resolve().then(c.t.bind(c,1603,23)),Promise.resolve().then(c.t.bind(c,8495,23)),Promise.resolve().then(c.t.bind(c,5170,23)),Promise.resolve().then(c.t.bind(c,7526,23)),Promise.resolve().then(c.t.bind(c,8922,23)),Promise.resolve().then(c.t.bind(c,9234,23)),Promise.resolve().then(c.t.bind(c,2263,23)),Promise.resolve().then(c.bind(c,2146))},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},967:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/redbar/Documents/GitHub/TofuOS/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/redbar/Documents/GitHub/TofuOS/src/app/page.tsx","default")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1172:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(7954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/redbar/Documents/GitHub/TofuOS/src/contexts/AuthContext.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/redbar/Documents/GitHub/TofuOS/src/contexts/AuthContext.tsx","useAuth")},1472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(5338);c(3139);var e=c(3305),f=c.n(e),g=c(1172);let h={title:"tofuOS",description:"AI-powered product management workspace"};function i({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.AuthProvider,{children:a})})})}},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3139:()=>{},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3758:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(8743),e=c(8301),f=c(4943);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));g.displayName="Input"},3873:a=>{"use strict";a.exports=require("path")},4118:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(7631),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,967)),"/Users/redbar/Documents/GitHub/TofuOS/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,1472)),"/Users/redbar/Documents/GitHub/TofuOS/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/Users/redbar/Documents/GitHub/TofuOS/src/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(3873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},4342:(a,b,c)=>{"use strict";c.d(b,{A:()=>j,AuthProvider:()=>i});var d=c(8743),e=c(8301),f=c(814),g=c(2378);let h=e.createContext(void 0);function i({children:a}){let[b,c]=e.useState(null),[i,j]=e.useState(null),[k,l]=e.useState(!0),m=(0,g.useRouter)();e.useEffect(()=>{let a=async()=>{let{data:{session:a},error:b}=await f.N.auth.getSession();j(a),c(a?.user??null),l(!1)},{data:b}=f.N.auth.onAuthStateChange((a,b)=>{j(b),c(b?.user??null),l(!1),"SIGNED_IN"===a&&m.refresh(),"SIGNED_OUT"===a&&(m.push("/login"),m.refresh())});return a(),()=>{b.subscription.unsubscribe()}},[m]);let n=async()=>{await f.N.auth.signOut()};return(0,d.jsx)(h.Provider,{value:{user:b,session:i,isLoading:k,signOut:n,isAuthenticated:!!b},children:a})}let j=()=>{let a=e.useContext(h);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},4454:(a,b,c)=>{Promise.resolve().then(c.bind(c,967))},4544:(a,b,c)=>{Promise.resolve().then(c.bind(c,4342))},4943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(3249),e=c(8829);function f(...a){return(0,e.QP)((0,d.$)(a))}},5058:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>da});var d,e,f,g=c(8743),h=c(8808);let i=(0,h.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),j=(0,h.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),k=(0,h.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),l=(0,h.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),m=(0,h.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),n=(0,h.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var o=c(8301),p=c.t(o,2),q=c(4342);let r=["PRD","AI Coding Rules & Standards","API Documentation","Accessibility Compliance Checklist","App Architecture Plan","Bug Investigation & Fix Plan","Competitive Analysis Report","Customer Journey Map","Database Schema Design","Feature Implementation Spec","Go-to-Market Plan"],s=()=>{let{user:a,signOut:b}=(0,q.A)(),[c,d]=(0,o.useState)(!1),[e,f]=(0,o.useState)("PRD");return(0,g.jsxs)("header",{className:"h-14 border-b border-border flex items-center justify-between px-3 md:px-4 panel-bg relative z-50",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,g.jsx)("div",{className:"w-8 h-8 rounded-lg tofu-gradient flex items-center justify-center",children:(0,g.jsx)("span",{className:"text-primary-foreground font-bold text-sm",children:"\uD83E\uDDCA"})}),(0,g.jsx)("span",{className:"font-semibold text-foreground text-sm tracking-tight hidden sm:inline",children:"tofuOS"})]}),(0,g.jsx)("div",{className:"w-px h-6 bg-border mx-1 hidden sm:block"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center gap-1.5 px-2 md:px-3 py-1.5 text-sm text-foreground hover:bg-muted rounded-lg transition-colors truncate",children:[(0,g.jsx)("span",{className:"text-muted-foreground text-xs hidden sm:inline",children:"ChatPRD:"}),(0,g.jsx)("span",{className:"font-medium truncate max-w-[120px] md:max-w-none",children:e}),(0,g.jsx)(i,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"})]}),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"fixed inset-0",onClick:()=>d(!1)}),(0,g.jsx)("div",{className:"absolute top-full left-0 mt-1 w-72 panel-bg border border-border rounded-xl shadow-lg py-1 max-h-80 overflow-y-auto",children:r.map(a=>(0,g.jsxs)("button",{onClick:()=>{f(a),d(!1)},className:`w-full text-left px-4 py-2.5 text-sm hover:bg-muted transition-colors flex items-center gap-2 ${e===a?"text-foreground font-medium":"text-muted-foreground"}`,children:[e===a&&(0,g.jsx)("svg",{className:"w-4 h-4 text-primary flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:(0,g.jsx)("polyline",{points:"20 6 9 17 4 12"})}),(0,g.jsxs)("span",{className:e!==a?"ml-6":"",children:["ChatPRD: ",a]})]},a))})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,g.jsxs)("button",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 tofu-gradient text-primary-foreground rounded-lg text-sm font-medium hover:opacity-90 transition-opacity",children:[(0,g.jsx)(j,{className:"w-4 h-4"}),"New Project"]}),(0,g.jsx)("button",{className:"md:hidden p-2 tofu-gradient text-primary-foreground rounded-lg hover:opacity-90 transition-opacity",children:(0,g.jsx)(j,{className:"w-4 h-4"})}),(0,g.jsxs)("button",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-foreground hover:bg-muted rounded-lg transition-colors",children:[(0,g.jsx)(k,{className:"w-4 h-4"}),"Analytics"]}),(0,g.jsxs)("button",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-foreground hover:bg-muted rounded-lg transition-colors",children:[(0,g.jsx)(l,{className:"w-4 h-4"}),"Share"]}),(0,g.jsxs)("button",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-foreground hover:bg-muted rounded-lg transition-colors",children:[(0,g.jsx)(m,{className:"w-4 h-4"}),"Settings"]}),(0,g.jsx)("div",{className:"hidden sm:flex gap-1",children:(0,g.jsx)("button",{className:"md:hidden p-2 text-foreground hover:bg-muted rounded-lg transition-colors",children:(0,g.jsx)(m,{className:"w-4 h-4"})})}),(0,g.jsxs)("button",{onClick:b,className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors",title:"Sign out",children:[(0,g.jsx)(n,{className:"w-4 h-4"}),"Sign out"]}),(0,g.jsx)("div",{className:"w-8 h-8 rounded-full tofu-gradient ml-1 md:ml-2 flex-shrink-0 flex items-center justify-center text-primary-foreground text-xs font-medium",title:a?.email,children:a?.user_metadata?.display_name?.charAt(0)??a?.email?.charAt(0)??"?"})]})]})},t=(0,h.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),u=(0,h.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),v=(0,h.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),w=(0,h.A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),x=(0,h.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),y=(0,h.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);function z(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var A=c(2808);function B(a,b=[]){let c=[],d=()=>{let b=c.map(a=>o.createContext(a));return function(c){let d=c?.[a]||b;return o.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=o.createContext(d),f=c.length;c=[...c,d];let h=b=>{let{scope:c,children:d,...h}=b,i=c?.[a]?.[f]||e,j=o.useMemo(()=>h,Object.values(h));return(0,g.jsx)(i.Provider,{value:j,children:d})};return h.displayName=b+"Provider",[h,function(c,g){let h=g?.[a]?.[f]||e,i=o.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return o.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}var C=globalThis?.document?o.useLayoutEffect:()=>{},D=p[" useId ".trim().toString()]||(()=>void 0),E=0;function F(a){let[b,c]=o.useState(D());return C(()=>{a||c(a=>a??String(E++))},[a]),a||(b?`radix-${b}`:"")}var G=p[" useInsertionEffect ".trim().toString()]||C;function H({prop:a,defaultProp:b,onChange:c=()=>{},caller:d}){let[e,f,g]=function({defaultProp:a,onChange:b}){let[c,d]=o.useState(a),e=o.useRef(c),f=o.useRef(b);return G(()=>{f.current=b},[b]),o.useEffect(()=>{e.current!==c&&(f.current?.(c),e.current=c)},[c,e]),[c,d,f]}({defaultProp:b,onChange:c}),h=void 0!==a,i=h?a:e;{let b=o.useRef(void 0!==a);o.useEffect(()=>{let a=b.current;if(a!==h){let b=h?"controlled":"uncontrolled";console.warn(`${d} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=h},[h,d])}return[i,o.useCallback(b=>{if(h){let c="function"==typeof b?b(a):b;c!==a&&g.current?.(c)}else f(b)},[h,a,f,g])]}Symbol("RADIX:SYNC_STATE");var I=c(3312),J=Symbol("radix.slottable");function K(a){return o.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===J}var L=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=function(a){let b=function(a){let b=o.forwardRef((a,b)=>{let{children:c,...d}=a;if(o.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==o.Fragment&&(h.ref=b?(0,A.t)(b,g):g),o.cloneElement(c,h)}return o.Children.count(c)>1?o.Children.only(null):null});return b.displayName=`${a}.SlotClone`,b}(a),c=o.forwardRef((a,c)=>{let{children:d,...e}=a,f=o.Children.toArray(d),h=f.find(K);if(h){let a=h.props.children,d=f.map(b=>b!==h?b:o.Children.count(a)>1?o.Children.only(null):o.isValidElement(a)?a.props.children:null);return(0,g.jsx)(b,{...e,ref:c,children:o.isValidElement(a)?o.cloneElement(a,void 0,d):null})}return(0,g.jsx)(b,{...e,ref:c,children:d})});return c.displayName=`${a}.Slot`,c}(`Primitive.${b}`),d=o.forwardRef((a,d)=>{let{asChild:e,...f}=a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,g.jsx)(e?c:b,{...f,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{});function M(a){let b=o.useRef(a);return o.useEffect(()=>{b.current=a}),o.useMemo(()=>(...a)=>b.current?.(...a),[])}var N="dismissableLayer.update",O=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P=o.forwardRef((a,b)=>{let{disableOutsidePointerEvents:c=!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:i,onDismiss:j,...k}=a,l=o.useContext(O),[m,n]=o.useState(null),p=m?.ownerDocument??globalThis?.document,[,q]=o.useState({}),r=(0,A.s)(b,a=>n(a)),s=Array.from(l.layers),[t]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),u=s.indexOf(t),v=m?s.indexOf(m):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=u,y=function(a,b=globalThis?.document){let c=M(a),d=o.useRef(!1),e=o.useRef(()=>{});return o.useEffect(()=>{let a=a=>{if(a.target&&!d.current){let d=function(){R("dismissableLayer.pointerDownOutside",c,f,{discrete:!0})},f={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",e.current),e.current=d,b.addEventListener("click",e.current,{once:!0})):d()}else b.removeEventListener("click",e.current);d.current=!1},f=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),b.removeEventListener("pointerdown",a),b.removeEventListener("click",e.current)}},[b,c]),{onPointerDownCapture:()=>d.current=!0}}(a=>{let b=a.target,c=[...l.branches].some(a=>a.contains(b));x&&!c&&(f?.(a),i?.(a),a.defaultPrevented||j?.())},p),B=function(a,b=globalThis?.document){let c=M(a),d=o.useRef(!1);return o.useEffect(()=>{let a=a=>{a.target&&!d.current&&R("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}(a=>{let b=a.target;![...l.branches].some(a=>a.contains(b))&&(h?.(a),i?.(a),a.defaultPrevented||j?.())},p);return!function(a,b=globalThis?.document){let c=M(a);o.useEffect(()=>{let a=a=>{"Escape"===a.key&&c(a)};return b.addEventListener("keydown",a,{capture:!0}),()=>b.removeEventListener("keydown",a,{capture:!0})},[c,b])}(a=>{v===l.layers.size-1&&(d?.(a),!a.defaultPrevented&&j&&(a.preventDefault(),j()))},p),o.useEffect(()=>{if(m)return c&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(e=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(m)),l.layers.add(m),Q(),()=>{c&&1===l.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=e)}},[m,p,c,l]),o.useEffect(()=>()=>{m&&(l.layers.delete(m),l.layersWithOutsidePointerEventsDisabled.delete(m),Q())},[m,l]),o.useEffect(()=>{let a=()=>q({});return document.addEventListener(N,a),()=>document.removeEventListener(N,a)},[]),(0,g.jsx)(L.div,{...k,ref:r,style:{pointerEvents:w?x?"auto":"none":void 0,...a.style},onFocusCapture:z(a.onFocusCapture,B.onFocusCapture),onBlurCapture:z(a.onBlurCapture,B.onBlurCapture),onPointerDownCapture:z(a.onPointerDownCapture,y.onPointerDownCapture)})});function Q(){let a=new CustomEvent(N);document.dispatchEvent(a)}function R(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});if(b&&e.addEventListener(a,b,{once:!0}),d)e&&I.flushSync(()=>e.dispatchEvent(f));else e.dispatchEvent(f)}P.displayName="DismissableLayer",o.forwardRef((a,b)=>{let c=o.useContext(O),d=o.useRef(null),e=(0,A.s)(b,d);return o.useEffect(()=>{let a=d.current;if(a)return c.branches.add(a),()=>{c.branches.delete(a)}},[c.branches]),(0,g.jsx)(L.div,{...a,ref:e})}).displayName="DismissableLayerBranch";var S="focusScope.autoFocusOnMount",T="focusScope.autoFocusOnUnmount",U={bubbles:!1,cancelable:!0},V=o.forwardRef((a,b)=>{let{loop:c=!1,trapped:d=!1,onMountAutoFocus:e,onUnmountAutoFocus:f,...h}=a,[i,j]=o.useState(null),k=M(e),l=M(f),m=o.useRef(null),n=(0,A.s)(b,a=>j(a)),p=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(d){let a=function(a){if(p.paused||!i)return;let b=a.target;i.contains(b)?m.current=b:Y(m.current,{select:!0})},b=function(a){if(p.paused||!i)return;let b=a.relatedTarget;null!==b&&(i.contains(b)||Y(m.current,{select:!0}))};document.addEventListener("focusin",a),document.addEventListener("focusout",b);let c=new MutationObserver(function(a){if(document.activeElement===document.body)for(let b of a)b.removedNodes.length>0&&Y(i)});return i&&c.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",b),c.disconnect()}}},[d,i,p.paused]),o.useEffect(()=>{if(i){Z.add(p);let a=document.activeElement;if(!i.contains(a)){let b=new CustomEvent(S,U);i.addEventListener(S,k),i.dispatchEvent(b),b.defaultPrevented||(function(a,{select:b=!1}={}){let c=document.activeElement;for(let d of a)if(Y(d,{select:b}),document.activeElement!==c)return}(W(i).filter(a=>"A"!==a.tagName),{select:!0}),document.activeElement===a&&Y(i))}return()=>{i.removeEventListener(S,k),setTimeout(()=>{let b=new CustomEvent(T,U);i.addEventListener(T,l),i.dispatchEvent(b),b.defaultPrevented||Y(a??document.body,{select:!0}),i.removeEventListener(T,l),Z.remove(p)},0)}}},[i,k,l,p]);let q=o.useCallback(a=>{if(!c&&!d||p.paused)return;let b="Tab"===a.key&&!a.altKey&&!a.ctrlKey&&!a.metaKey,e=document.activeElement;if(b&&e){let b=a.currentTarget,[d,f]=function(a){let b=W(a);return[X(b,a),X(b.reverse(),a)]}(b);d&&f?a.shiftKey||e!==f?a.shiftKey&&e===d&&(a.preventDefault(),c&&Y(f,{select:!0})):(a.preventDefault(),c&&Y(d,{select:!0})):e===b&&a.preventDefault()}},[c,d,p.paused]);return(0,g.jsx)(L.div,{tabIndex:-1,...h,ref:n,onKeyDown:q})});function W(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let b="INPUT"===a.tagName&&"hidden"===a.type;return a.disabled||a.hidden||b?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)b.push(c.currentNode);return b}function X(a,b){for(let c of a)if(!function(a,{upTo:b}){if("hidden"===getComputedStyle(a).visibility)return!0;for(;a&&(void 0===b||a!==b);){if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1}(c,{upTo:b}))return c}function Y(a,{select:b=!1}={}){if(a&&a.focus){var c;let d=document.activeElement;a.focus({preventScroll:!0}),a!==d&&(c=a)instanceof HTMLInputElement&&"select"in c&&b&&a.select()}}V.displayName="FocusScope";var Z=function(){let a=[];return{add(b){let c=a[0];b!==c&&c?.pause(),(a=$(a,b)).unshift(b)},remove(b){a=$(a,b),a[0]?.resume()}}}();function $(a,b){let c=[...a],d=c.indexOf(b);return -1!==d&&c.splice(d,1),c}var _=o.forwardRef((a,b)=>{let{container:c,...d}=a,[e,f]=o.useState(!1);C(()=>f(!0),[]);let h=c||e&&globalThis?.document?.body;return h?I.createPortal((0,g.jsx)(L.div,{...d,ref:b}),h):null});_.displayName="Portal";var aa=a=>{let{present:b,children:c}=a,d=function(a){var b,c;let[d,e]=o.useState(),f=o.useRef(null),g=o.useRef(a),h=o.useRef("none"),[i,j]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},o.useReducer((a,b)=>c[a][b]??a,b));return o.useEffect(()=>{let a=ab(f.current);h.current="mounted"===i?a:"none"},[i]),C(()=>{let b=f.current,c=g.current;if(c!==a){let d=h.current,e=ab(b);a?j("MOUNT"):"none"===e||b?.display==="none"?j("UNMOUNT"):c&&d!==e?j("ANIMATION_OUT"):j("UNMOUNT"),g.current=a}},[a,j]),C(()=>{if(d){let a,b=d.ownerDocument.defaultView??window,c=c=>{let e=ab(f.current).includes(CSS.escape(c.animationName));if(c.target===d&&e&&(j("ANIMATION_END"),!g.current)){let c=d.style.animationFillMode;d.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===d.style.animationFillMode&&(d.style.animationFillMode=c)})}},e=a=>{a.target===d&&(h.current=ab(f.current))};return d.addEventListener("animationstart",e),d.addEventListener("animationcancel",c),d.addEventListener("animationend",c),()=>{b.clearTimeout(a),d.removeEventListener("animationstart",e),d.removeEventListener("animationcancel",c),d.removeEventListener("animationend",c)}}j("ANIMATION_END")},[d,j]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:o.useCallback(a=>{f.current=a?getComputedStyle(a):null,e(a)},[])}}(b),e="function"==typeof c?c({present:d.isPresent}):o.Children.only(c),f=(0,A.s)(d.ref,function(a){let b=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,c=b&&"isReactWarning"in b&&b.isReactWarning;return c?a.ref:(c=(b=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in b&&b.isReactWarning)?a.props.ref:a.props.ref||a.ref}(e));return"function"==typeof c||d.isPresent?o.cloneElement(e,{ref:f}):null};function ab(a){return a?.animationName||"none"}aa.displayName="Presence";var ac=0;function ad(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var ae=c(9420),af="right-scroll-bar-position",ag="width-before-scroll-bar";function ah(a,b){return"function"==typeof a?a(b):a&&(a.current=b),a}var ai="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,aj=new WeakMap;function ak(a){return a}var al=function(a){void 0===a&&(a={});var b,c,d,e=(void 0===b&&(b=ak),c=[],d=!1,{read:function(){if(d)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return c.length?c[c.length-1]:null},useMedium:function(a){var e=b(a,d);return c.push(e),function(){c=c.filter(function(a){return a!==e})}},assignSyncMedium:function(a){for(d=!0;c.length;){var b=c;c=[],b.forEach(a)}c={push:function(b){return a(b)},filter:function(){return c}}},assignMedium:function(a){d=!0;var b=[];if(c.length){var e=c;c=[],e.forEach(a),b=c}var f=function(){var c=b;b=[],c.forEach(a)},g=function(){return Promise.resolve().then(f)};g(),c={push:function(a){b.push(a),g()},filter:function(a){return b=b.filter(a),c}}}});return e.options=(0,ae.Cl)({async:!0,ssr:!1},a),e}(),am=function(){},an=o.forwardRef(function(a,b){var c,d,e,f,g=o.useRef(null),h=o.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),i=h[0],j=h[1],k=a.forwardProps,l=a.children,m=a.className,n=a.removeScrollBar,p=a.enabled,q=a.shards,r=a.sideCar,s=a.noRelative,t=a.noIsolation,u=a.inert,v=a.allowPinchZoom,w=a.as,x=a.gapMode,y=(0,ae.Tt)(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=(c=[g,b],d=function(a){return c.forEach(function(b){return ah(b,a)})},(e=(0,o.useState)(function(){return{value:null,callback:d,facade:{get current(){return e.value},set current(value){var a=e.value;a!==value&&(e.value=value,e.callback(value,a))}}}})[0]).callback=d,f=e.facade,ai(function(){var a=aj.get(f);if(a){var b=new Set(a),d=new Set(c),e=f.current;b.forEach(function(a){d.has(a)||ah(a,null)}),d.forEach(function(a){b.has(a)||ah(a,e)})}aj.set(f,c)},[c]),f),A=(0,ae.Cl)((0,ae.Cl)({},y),i);return o.createElement(o.Fragment,null,p&&o.createElement(r,{sideCar:al,removeScrollBar:n,shards:q,noRelative:s,noIsolation:t,inert:u,setCallbacks:j,allowPinchZoom:!!v,lockRef:g,gapMode:x}),k?o.cloneElement(o.Children.only(l),(0,ae.Cl)((0,ae.Cl)({},A),{ref:z})):o.createElement(void 0===w?"div":w,(0,ae.Cl)({},A,{className:m,ref:z}),l))});an.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},an.classNames={fullWidth:ag,zeroRight:af};var ao=function(a){var b=a.sideCar,c=(0,ae.Tt)(a,["sideCar"]);if(!b)throw Error("Sidecar: please provide `sideCar` property to import the right car");var d=b.read();if(!d)throw Error("Sidecar medium not found");return o.createElement(d,(0,ae.Cl)({},c))};ao.isSideCarExport=!0;var ap=function(){var a=0,b=null;return{add:function(d){if(0==a&&(b=function(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var b=f||c.nc;return b&&a.setAttribute("nonce",b),a}())){var e,g;(e=b).styleSheet?e.styleSheet.cssText=d:e.appendChild(document.createTextNode(d)),g=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(g)}a++},remove:function(){--a||!b||(b.parentNode&&b.parentNode.removeChild(b),b=null)}}},aq=function(){var a=ap();return function(b,c){o.useEffect(function(){return a.add(b),function(){a.remove()}},[b&&c])}},ar=function(){var a=aq();return function(b){return a(b.styles,b.dynamic),null}},as={left:0,top:0,right:0,gap:0},at=function(a){return parseInt(a||"",10)||0},au=function(a){var b=window.getComputedStyle(document.body),c=b["padding"===a?"paddingLeft":"marginLeft"],d=b["padding"===a?"paddingTop":"marginTop"],e=b["padding"===a?"paddingRight":"marginRight"];return[at(c),at(d),at(e)]},av=function(a){if(void 0===a&&(a="margin"),"undefined"==typeof window)return as;var b=au(a),c=document.documentElement.clientWidth,d=window.innerWidth;return{left:b[0],top:b[1],right:b[2],gap:Math.max(0,d-c+b[2]-b[0])}},aw=ar(),ax="data-scroll-locked",ay=function(a,b,c,d){var e=a.left,f=a.top,g=a.right,h=a.gap;return void 0===c&&(c="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(d,";\n   padding-right: ").concat(h,"px ").concat(d,";\n  }\n  body[").concat(ax,"] {\n    overflow: hidden ").concat(d,";\n    overscroll-behavior: contain;\n    ").concat([b&&"position: relative ".concat(d,";"),"margin"===c&&"\n    padding-left: ".concat(e,"px;\n    padding-top: ").concat(f,"px;\n    padding-right: ").concat(g,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(h,"px ").concat(d,";\n    "),"padding"===c&&"padding-right: ".concat(h,"px ").concat(d,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(af," {\n    right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(ag," {\n    margin-right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(af," .").concat(af," {\n    right: 0 ").concat(d,";\n  }\n  \n  .").concat(ag," .").concat(ag," {\n    margin-right: 0 ").concat(d,";\n  }\n  \n  body[").concat(ax,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(h,"px;\n  }\n")},az=function(){var a=parseInt(document.body.getAttribute(ax)||"0",10);return isFinite(a)?a:0},aA=function(){o.useEffect(function(){return document.body.setAttribute(ax,(az()+1).toString()),function(){var a=az()-1;a<=0?document.body.removeAttribute(ax):document.body.setAttribute(ax,a.toString())}},[])},aB=function(a){var b=a.noRelative,c=a.noImportant,d=a.gapMode,e=void 0===d?"margin":d;aA();var f=o.useMemo(function(){return av(e)},[e]);return o.createElement(aw,{styles:ay(f,!b,e,c?"":"!important")})},aC=!1;if("undefined"!=typeof window)try{var aD=Object.defineProperty({},"passive",{get:function(){return aC=!0,!0}});window.addEventListener("test",aD,aD),window.removeEventListener("test",aD,aD)}catch(a){aC=!1}var aE=!!aC&&{passive:!1},aF=function(a,b){if(!(a instanceof Element))return!1;var c=window.getComputedStyle(a);return"hidden"!==c[b]&&(c.overflowY!==c.overflowX||"TEXTAREA"===a.tagName||"visible"!==c[b])},aG=function(a,b){var c=b.ownerDocument,d=b;do{if("undefined"!=typeof ShadowRoot&&d instanceof ShadowRoot&&(d=d.host),aH(a,d)){var e=aI(a,d);if(e[1]>e[2])return!0}d=d.parentNode}while(d&&d!==c.body);return!1},aH=function(a,b){return"v"===a?aF(b,"overflowY"):aF(b,"overflowX")},aI=function(a,b){return"v"===a?[b.scrollTop,b.scrollHeight,b.clientHeight]:[b.scrollLeft,b.scrollWidth,b.clientWidth]},aJ=function(a,b,c,d,e){var f,g=(f=window.getComputedStyle(b).direction,"h"===a&&"rtl"===f?-1:1),h=g*d,i=c.target,j=b.contains(i),k=!1,l=h>0,m=0,n=0;do{if(!i)break;var o=aI(a,i),p=o[0],q=o[1]-o[2]-g*p;(p||q)&&aH(a,i)&&(m+=q,n+=p);var r=i.parentNode;i=r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}while(!j&&i!==document.body||j&&(b.contains(i)||b===i));return l&&(e&&1>Math.abs(m)||!e&&h>m)?k=!0:!l&&(e&&1>Math.abs(n)||!e&&-h>n)&&(k=!0),k},aK=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},aL=function(a){return[a.deltaX,a.deltaY]},aM=function(a){return a&&"current"in a?a.current:a},aN=0,aO=[];let aP=(d=function(a){var b=o.useRef([]),c=o.useRef([0,0]),d=o.useRef(),e=o.useState(aN++)[0],f=o.useState(ar)[0],g=o.useRef(a);o.useEffect(function(){g.current=a},[a]),o.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(e));var b=(0,ae.fX)([a.lockRef.current],(a.shards||[]).map(aM),!0).filter(Boolean);return b.forEach(function(a){return a.classList.add("allow-interactivity-".concat(e))}),function(){document.body.classList.remove("block-interactivity-".concat(e)),b.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(e))})}}},[a.inert,a.lockRef.current,a.shards]);var h=o.useCallback(function(a,b){if("touches"in a&&2===a.touches.length||"wheel"===a.type&&a.ctrlKey)return!g.current.allowPinchZoom;var e,f=aK(a),h=c.current,i="deltaX"in a?a.deltaX:h[0]-f[0],j="deltaY"in a?a.deltaY:h[1]-f[1],k=a.target,l=Math.abs(i)>Math.abs(j)?"h":"v";if("touches"in a&&"h"===l&&"range"===k.type)return!1;var m=window.getSelection(),n=m&&m.anchorNode;if(n&&(n===k||n.contains(k)))return!1;var o=aG(l,k);if(!o)return!0;if(o?e=l:(e="v"===l?"h":"v",o=aG(l,k)),!o)return!1;if(!d.current&&"changedTouches"in a&&(i||j)&&(d.current=e),!e)return!0;var p=d.current||e;return aJ(p,b,a,"h"===p?i:j,!0)},[]),i=o.useCallback(function(a){if(aO.length&&aO[aO.length-1]===f){var c="deltaY"in a?aL(a):aK(a),d=b.current.filter(function(b){var d;return b.name===a.type&&(b.target===a.target||a.target===b.shadowParent)&&(d=b.delta,d[0]===c[0]&&d[1]===c[1])})[0];if(d&&d.should){a.cancelable&&a.preventDefault();return}if(!d){var e=(g.current.shards||[]).map(aM).filter(Boolean).filter(function(b){return b.contains(a.target)});(e.length>0?h(a,e[0]):!g.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),j=o.useCallback(function(a,c,d,e){var f={name:a,delta:c,target:d,should:e,shadowParent:function(a){for(var b=null;null!==a;)a instanceof ShadowRoot&&(b=a.host,a=a.host),a=a.parentNode;return b}(d)};b.current.push(f),setTimeout(function(){b.current=b.current.filter(function(a){return a!==f})},1)},[]),k=o.useCallback(function(a){c.current=aK(a),d.current=void 0},[]),l=o.useCallback(function(b){j(b.type,aL(b),b.target,h(b,a.lockRef.current))},[]),m=o.useCallback(function(b){j(b.type,aK(b),b.target,h(b,a.lockRef.current))},[]);o.useEffect(function(){return aO.push(f),a.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:m}),document.addEventListener("wheel",i,aE),document.addEventListener("touchmove",i,aE),document.addEventListener("touchstart",k,aE),function(){aO=aO.filter(function(a){return a!==f}),document.removeEventListener("wheel",i,aE),document.removeEventListener("touchmove",i,aE),document.removeEventListener("touchstart",k,aE)}},[]);var n=a.removeScrollBar,p=a.inert;return o.createElement(o.Fragment,null,p?o.createElement(f,{styles:"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")}):null,n?o.createElement(aB,{noRelative:a.noRelative,gapMode:a.gapMode}):null)},al.useMedium(d),ao);var aQ=o.forwardRef(function(a,b){return o.createElement(an,(0,ae.Cl)({},a,{ref:b,sideCar:aP}))});aQ.classNames=an.classNames;var aR=new WeakMap,aS=new WeakMap,aT={},aU=0,aV=function(a){return a&&(a.host||aV(a.parentNode))},aW=function(a,b,c,d){var e=(Array.isArray(a)?a:[a]).map(function(a){if(b.contains(a))return a;var c=aV(a);return c&&b.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",b,". Doing nothing"),null)}).filter(function(a){return!!a});aT[c]||(aT[c]=new WeakMap);var f=aT[c],g=[],h=new Set,i=new Set(e),j=function(a){!a||h.has(a)||(h.add(a),j(a.parentNode))};e.forEach(j);var k=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(a){if(h.has(a))k(a);else try{var b=a.getAttribute(d),e=null!==b&&"false"!==b,i=(aR.get(a)||0)+1,j=(f.get(a)||0)+1;aR.set(a,i),f.set(a,j),g.push(a),1===i&&e&&aS.set(a,!0),1===j&&a.setAttribute(c,"true"),e||a.setAttribute(d,"true")}catch(b){console.error("aria-hidden: cannot operate on ",a,b)}})};return k(b),h.clear(),aU++,function(){g.forEach(function(a){var b=aR.get(a)-1,e=f.get(a)-1;aR.set(a,b),f.set(a,e),b||(aS.has(a)||a.removeAttribute(d),aS.delete(a)),e||a.removeAttribute(c)}),--aU||(aR=new WeakMap,aR=new WeakMap,aS=new WeakMap,aT={})}},aX=function(a,b,c){void 0===c&&(c="data-aria-hidden");var d=Array.from(Array.isArray(a)?a:[a]),e=b||("undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return e?(d.push.apply(d,Array.from(e.querySelectorAll("[aria-live], script"))),aW(d,e,c,"aria-hidden")):function(){return null}},aY=Symbol("radix.slottable");function aZ(a){return o.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===aY}var a$="Dialog",[a_,a0]=B(a$),[a1,a2]=a_(a$),a3=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:h=!0}=a,i=o.useRef(null),j=o.useRef(null),[k,l]=H({prop:d,defaultProp:e??!1,onChange:f,caller:a$});return(0,g.jsx)(a1,{scope:b,triggerRef:i,contentRef:j,contentId:F(),titleId:F(),descriptionId:F(),open:k,onOpenChange:l,onOpenToggle:o.useCallback(()=>l(a=>!a),[l]),modal:h,children:c})};a3.displayName=a$;var a4="DialogTrigger";o.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=a2(a4,c),f=(0,A.s)(b,e.triggerRef);return(0,g.jsx)(L.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":bo(e.open),...d,ref:f,onClick:z(a.onClick,e.onOpenToggle)})}).displayName=a4;var a5="DialogPortal",[a6,a7]=a_(a5,{forceMount:void 0}),a8=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,f=a2(a5,b);return(0,g.jsx)(a6,{scope:b,forceMount:c,children:o.Children.map(d,a=>(0,g.jsx)(aa,{present:c||f.open,children:(0,g.jsx)(_,{asChild:!0,container:e,children:a})}))})};a8.displayName=a5;var a9="DialogOverlay",ba=o.forwardRef((a,b)=>{let c=a7(a9,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=a2(a9,a.__scopeDialog);return f.modal?(0,g.jsx)(aa,{present:d||f.open,children:(0,g.jsx)(bc,{...e,ref:b})}):null});ba.displayName=a9;var bb=function(a){let b=function(a){let b=o.forwardRef((a,b)=>{let{children:c,...d}=a;if(o.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==o.Fragment&&(h.ref=b?(0,A.t)(b,g):g),o.cloneElement(c,h)}return o.Children.count(c)>1?o.Children.only(null):null});return b.displayName=`${a}.SlotClone`,b}(a),c=o.forwardRef((a,c)=>{let{children:d,...e}=a,f=o.Children.toArray(d),h=f.find(aZ);if(h){let a=h.props.children,d=f.map(b=>b!==h?b:o.Children.count(a)>1?o.Children.only(null):o.isValidElement(a)?a.props.children:null);return(0,g.jsx)(b,{...e,ref:c,children:o.isValidElement(a)?o.cloneElement(a,void 0,d):null})}return(0,g.jsx)(b,{...e,ref:c,children:d})});return c.displayName=`${a}.Slot`,c}("DialogOverlay.RemoveScroll"),bc=o.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=a2(a9,c);return(0,g.jsx)(aQ,{as:bb,allowPinchZoom:!0,shards:[e.contentRef],children:(0,g.jsx)(L.div,{"data-state":bo(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),bd="DialogContent",be=o.forwardRef((a,b)=>{let c=a7(bd,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=a2(bd,a.__scopeDialog);return(0,g.jsx)(aa,{present:d||f.open,children:f.modal?(0,g.jsx)(bf,{...e,ref:b}):(0,g.jsx)(bg,{...e,ref:b})})});be.displayName=bd;var bf=o.forwardRef((a,b)=>{let c=a2(bd,a.__scopeDialog),d=o.useRef(null),e=(0,A.s)(b,c.contentRef,d);return o.useEffect(()=>{let a=d.current;if(a)return aX(a)},[]),(0,g.jsx)(bh,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:z(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:z(a.onFocusOutside,a=>a.preventDefault())})}),bg=o.forwardRef((a,b)=>{let c=a2(bd,a.__scopeDialog),d=o.useRef(!1),e=o.useRef(!1);return(0,g.jsx)(bh,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),bh=o.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,...h}=a,i=a2(bd,c),j=o.useRef(null),k=(0,A.s)(b,j);return o.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??ad()),document.body.insertAdjacentElement("beforeend",a[1]??ad()),ac++,()=>{1===ac&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),ac--}},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(V,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,g.jsx)(P,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":bo(i.open),...h,ref:k,onDismiss:()=>i.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(bs,{titleId:i.titleId}),(0,g.jsx)(bt,{contentRef:j,descriptionId:i.descriptionId})]})]})}),bi="DialogTitle",bj=o.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=a2(bi,c);return(0,g.jsx)(L.h2,{id:e.titleId,...d,ref:b})});bj.displayName=bi;var bk="DialogDescription",bl=o.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=a2(bk,c);return(0,g.jsx)(L.p,{id:e.descriptionId,...d,ref:b})});bl.displayName=bk;var bm="DialogClose",bn=o.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=a2(bm,c);return(0,g.jsx)(L.button,{type:"button",...d,ref:b,onClick:z(a.onClick,()=>e.onOpenChange(!1))})});function bo(a){return a?"open":"closed"}bn.displayName=bm;var bp="DialogTitleWarning",[bq,br]=function(a,b){let c=o.createContext(b),d=a=>{let{children:b,...d}=a,e=o.useMemo(()=>d,Object.values(d));return(0,g.jsx)(c.Provider,{value:e,children:b})};return d.displayName=a+"Provider",[d,function(d){let e=o.useContext(c);if(e)return e;if(void 0!==b)return b;throw Error(`\`${d}\` must be used within \`${a}\``)}]}(bp,{contentName:bd,titleName:bi,docsSlug:"dialog"}),bs=({titleId:a})=>{let b=br(bp),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return o.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},bt=({contentRef:a,descriptionId:b})=>{let c=br("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return o.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null};let bu=(0,h.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var bv=c(4943);let bw=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(ba,{ref:c,className:(0,bv.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));bw.displayName=ba.displayName;let bx=o.forwardRef(({className:a,children:b,...c},d)=>(0,g.jsxs)(a8,{children:[(0,g.jsx)(bw,{}),(0,g.jsxs)(be,{ref:d,className:(0,bv.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,g.jsxs)(bn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,g.jsx)(bu,{className:"h-4 w-4"}),(0,g.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));bx.displayName=be.displayName;let by=({className:a,...b})=>(0,g.jsx)("div",{className:(0,bv.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});by.displayName="DialogHeader";let bz=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(bj,{ref:c,className:(0,bv.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));bz.displayName=bj.displayName;let bA=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(bl,{ref:c,className:(0,bv.cn)("text-sm text-muted-foreground",a),...b}));bA.displayName=bl.displayName;var bB=c(8120),bC=c(3758),bD=c(5284);function bE(a){let b=function(a){let b=o.forwardRef((a,b)=>{let{children:c,...d}=a;if(o.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==o.Fragment&&(h.ref=b?(0,A.t)(b,g):g),o.cloneElement(c,h)}return o.Children.count(c)>1?o.Children.only(null):null});return b.displayName=`${a}.SlotClone`,b}(a),c=o.forwardRef((a,c)=>{let{children:d,...e}=a,f=o.Children.toArray(d),h=f.find(bG);if(h){let a=h.props.children,d=f.map(b=>b!==h?b:o.Children.count(a)>1?o.Children.only(null):o.isValidElement(a)?a.props.children:null);return(0,g.jsx)(b,{...e,ref:c,children:o.isValidElement(a)?o.cloneElement(a,void 0,d):null})}return(0,g.jsx)(b,{...e,ref:c,children:d})});return c.displayName=`${a}.Slot`,c}var bF=Symbol("radix.slottable");function bG(a){return o.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bF}var bH=new WeakMap;function bI(a,b){if("at"in Array.prototype)return Array.prototype.at.call(a,b);let c=function(a,b){let c=a.length,d=bJ(b),e=d>=0?d:c+d;return e<0||e>=c?-1:e}(a,b);return -1===c?void 0:a[c]}function bJ(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],bH.set(this,!0)}set(a,b){return bH.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=bJ(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=bI(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=bI(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return bI(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});var bK=o.createContext(void 0);function bL(a){let b=o.useContext(bK);return a||b||"ltr"}var bM="rovingFocusGroup.onEntryFocus",bN={bubbles:!1,cancelable:!0},bO="RovingFocusGroup",[bP,bQ,bR]=function(a){let b=a+"CollectionProvider",[c,d]=B(b),[e,f]=c(b,{collectionRef:{current:null},itemMap:new Map}),h=a=>{let{scope:b,children:c}=a,d=o.useRef(null),f=o.useRef(new Map).current;return(0,g.jsx)(e,{scope:b,itemMap:f,collectionRef:d,children:c})};h.displayName=b;let i=a+"CollectionSlot",j=bE(i),k=o.forwardRef((a,b)=>{let{scope:c,children:d}=a,e=f(i,c),h=(0,A.s)(b,e.collectionRef);return(0,g.jsx)(j,{ref:h,children:d})});k.displayName=i;let l=a+"CollectionItemSlot",m="data-radix-collection-item",n=bE(l),p=o.forwardRef((a,b)=>{let{scope:c,children:d,...e}=a,h=o.useRef(null),i=(0,A.s)(b,h),j=f(l,c);return o.useEffect(()=>(j.itemMap.set(h,{ref:h,...e}),()=>void j.itemMap.delete(h))),(0,g.jsx)(n,{...{[m]:""},ref:i,children:d})});return p.displayName=l,[{Provider:h,Slot:k,ItemSlot:p},function(b){let c=f(a+"CollectionConsumer",b);return o.useCallback(()=>{let a=c.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${m}]`));return Array.from(c.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[c.collectionRef,c.itemMap])},d]}(bO),[bS,bT]=B(bO,[bR]),[bU,bV]=bS(bO),bW=o.forwardRef((a,b)=>(0,g.jsx)(bP.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,g.jsx)(bP.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,g.jsx)(bX,{...a,ref:b})})}));bW.displayName=bO;var bX=o.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,orientation:d,loop:e=!1,dir:f,currentTabStopId:h,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:j,onEntryFocus:k,preventScrollOnEntryFocus:l=!1,...m}=a,n=o.useRef(null),p=(0,A.s)(b,n),q=bL(f),[r,s]=H({prop:h,defaultProp:i??null,onChange:j,caller:bO}),[t,u]=o.useState(!1),v=M(k),w=bQ(c),x=o.useRef(!1),[y,B]=o.useState(0);return o.useEffect(()=>{let a=n.current;if(a)return a.addEventListener(bM,v),()=>a.removeEventListener(bM,v)},[v]),(0,g.jsx)(bU,{scope:c,orientation:d,dir:q,loop:e,currentTabStopId:r,onItemFocus:o.useCallback(a=>s(a),[s]),onItemShiftTab:o.useCallback(()=>u(!0),[]),onFocusableItemAdd:o.useCallback(()=>B(a=>a+1),[]),onFocusableItemRemove:o.useCallback(()=>B(a=>a-1),[]),children:(0,g.jsx)(L.div,{tabIndex:t||0===y?-1:0,"data-orientation":d,...m,ref:p,style:{outline:"none",...a.style},onMouseDown:z(a.onMouseDown,()=>{x.current=!0}),onFocus:z(a.onFocus,a=>{let b=!x.current;if(a.target===a.currentTarget&&b&&!t){let b=new CustomEvent(bM,bN);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=w().filter(a=>a.focusable);b_([a.find(a=>a.active),a.find(a=>a.id===r),...a].filter(Boolean).map(a=>a.ref.current),l)}}x.current=!1}),onBlur:z(a.onBlur,()=>u(!1))})})}),bY="RovingFocusGroupItem",bZ=o.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,focusable:d=!0,active:e=!1,tabStopId:f,children:h,...i}=a,j=F(),k=f||j,l=bV(bY,c),m=l.currentTabStopId===k,n=bQ(c),{onFocusableItemAdd:p,onFocusableItemRemove:q,currentTabStopId:r}=l;return o.useEffect(()=>{if(d)return p(),()=>q()},[d,p,q]),(0,g.jsx)(bP.ItemSlot,{scope:c,id:k,focusable:d,active:e,children:(0,g.jsx)(L.span,{tabIndex:m?0:-1,"data-orientation":l.orientation,...i,ref:b,onMouseDown:z(a.onMouseDown,a=>{d?l.onItemFocus(k):a.preventDefault()}),onFocus:z(a.onFocus,()=>l.onItemFocus(k)),onKeyDown:z(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void l.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return b$[e]}(a,l.orientation,l.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let c=n().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)c.reverse();else if("prev"===b||"next"===b){"prev"===b&&c.reverse();let d=c.indexOf(a.currentTarget);c=l.loop?function(a,b){return a.map((c,d)=>a[(b+d)%a.length])}(c,d+1):c.slice(d+1)}setTimeout(()=>b_(c))}}),children:"function"==typeof h?h({isCurrentTabStop:m,hasTabStop:null!=r}):h})})});bZ.displayName=bY;var b$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b_(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var b0="Tabs",[b1,b2]=B(b0,[bT]),b3=bT(),[b4,b5]=b1(b0),b6=o.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,onValueChange:e,defaultValue:f,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=bL(i),[m,n]=H({prop:d,onChange:e,defaultProp:f??"",caller:b0});return(0,g.jsx)(b4,{scope:c,baseId:F(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,g.jsx)(L.div,{dir:l,"data-orientation":h,...k,ref:b})})});b6.displayName=b0;var b7="TabsList",b8=o.forwardRef((a,b)=>{let{__scopeTabs:c,loop:d=!0,...e}=a,f=b5(b7,c),h=b3(c);return(0,g.jsx)(bW,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:d,children:(0,g.jsx)(L.div,{role:"tablist","aria-orientation":f.orientation,...e,ref:b})})});b8.displayName=b7;var b9="TabsTrigger",ca=o.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,disabled:e=!1,...f}=a,h=b5(b9,c),i=b3(c),j=cd(h.baseId,d),k=ce(h.baseId,d),l=d===h.value;return(0,g.jsx)(bZ,{asChild:!0,...i,focusable:!e,active:l,children:(0,g.jsx)(L.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":k,"data-state":l?"active":"inactive","data-disabled":e?"":void 0,disabled:e,id:j,...f,ref:b,onMouseDown:z(a.onMouseDown,a=>{e||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(d)}),onKeyDown:z(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(d)}),onFocus:z(a.onFocus,()=>{let a="manual"!==h.activationMode;l||e||!a||h.onValueChange(d)})})})});ca.displayName=b9;var cb="TabsContent",cc=o.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,forceMount:e,children:f,...h}=a,i=b5(cb,c),j=cd(i.baseId,d),k=ce(i.baseId,d),l=d===i.value,m=o.useRef(l);return o.useEffect(()=>{let a=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,g.jsx)(aa,{present:e||l,children:({present:c})=>(0,g.jsx)(L.div,{"data-state":l?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":j,hidden:!c,id:k,tabIndex:0,...h,ref:b,style:{...a.style,animationDuration:m.current?"0s":void 0},children:c&&f})})});function cd(a,b){return`${a}-trigger-${b}`}function ce(a,b){return`${a}-content-${b}`}cc.displayName=cb;let cf=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(b8,{ref:c,className:(0,bv.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));cf.displayName=b8.displayName;let cg=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(ca,{ref:c,className:(0,bv.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...b}));cg.displayName=ca.displayName;let ch=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(cc,{ref:c,className:(0,bv.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));ch.displayName=cc.displayName;var ci="Radio",[cj,ck]=B(ci),[cl,cm]=cj(ci),cn=o.forwardRef((a,b)=>{let{__scopeRadio:c,name:d,checked:e=!1,required:f,disabled:h,value:i="on",onCheck:j,form:k,...l}=a,[m,n]=o.useState(null),p=(0,A.s)(b,a=>n(a)),q=o.useRef(!1),r=!m||k||!!m.closest("form");return(0,g.jsxs)(cl,{scope:c,checked:e,disabled:h,children:[(0,g.jsx)(L.button,{type:"button",role:"radio","aria-checked":e,"data-state":cr(e),"data-disabled":h?"":void 0,disabled:h,value:i,...l,ref:p,onClick:z(a.onClick,a=>{e||j?.(),r&&(q.current=a.isPropagationStopped(),q.current||a.stopPropagation())})}),r&&(0,g.jsx)(cq,{control:m,bubbles:!q.current,name:d,value:i,checked:e,required:f,disabled:h,form:k,style:{transform:"translateX(-100%)"}})]})});cn.displayName=ci;var co="RadioIndicator",cp=o.forwardRef((a,b)=>{let{__scopeRadio:c,forceMount:d,...e}=a,f=cm(co,c);return(0,g.jsx)(aa,{present:d||f.checked,children:(0,g.jsx)(L.span,{"data-state":cr(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})})});cp.displayName=co;var cq=o.forwardRef(({__scopeRadio:a,control:b,checked:c,bubbles:d=!0,...e},f)=>{let h=o.useRef(null),i=(0,A.s)(h,f),j=function(a){let b=o.useRef({value:a,previous:a});return o.useMemo(()=>(b.current.value!==a&&(b.current.previous=b.current.value,b.current.value=a),b.current.previous),[a])}(c),k=function(a){let[b,c]=o.useState(void 0);return C(()=>{if(a){c({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let d,e;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;d=b.inlineSize,e=b.blockSize}else d=a.offsetWidth,e=a.offsetHeight;c({width:d,height:e})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}c(void 0)},[a]),b}(b);return o.useEffect(()=>{let a=h.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(j!==c&&b){let e=new Event("click",{bubbles:d});b.call(a,c),a.dispatchEvent(e)}},[j,c,d]),(0,g.jsx)(L.input,{type:"radio","aria-hidden":!0,defaultChecked:c,...e,tabIndex:-1,ref:i,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function cr(a){return a?"checked":"unchecked"}cq.displayName="RadioBubbleInput";var cs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ct="RadioGroup",[cu,cv]=B(ct,[bT,ck]),cw=bT(),cx=ck(),[cy,cz]=cu(ct),cA=o.forwardRef((a,b)=>{let{__scopeRadioGroup:c,name:d,defaultValue:e,value:f,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:m,...n}=a,o=cw(c),p=bL(k),[q,r]=H({prop:f,defaultProp:e??null,onChange:m,caller:ct});return(0,g.jsx)(cy,{scope:c,name:d,required:h,disabled:i,value:q,onValueChange:r,children:(0,g.jsx)(bW,{asChild:!0,...o,orientation:j,dir:p,loop:l,children:(0,g.jsx)(L.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:p,...n,ref:b})})})});cA.displayName=ct;var cB="RadioGroupItem",cC=o.forwardRef((a,b)=>{let{__scopeRadioGroup:c,disabled:d,...e}=a,f=cz(cB,c),h=f.disabled||d,i=cw(c),j=cx(c),k=o.useRef(null),l=(0,A.s)(b,k),m=f.value===e.value,n=o.useRef(!1);return o.useEffect(()=>{let a=a=>{cs.includes(a.key)&&(n.current=!0)},b=()=>n.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,g.jsx)(bZ,{asChild:!0,...i,focusable:!h,active:m,children:(0,g.jsx)(cn,{disabled:h,required:f.required,checked:m,...j,...e,name:f.name,ref:l,onCheck:()=>f.onValueChange(e.value),onKeyDown:z(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:z(e.onFocus,()=>{n.current&&k.current?.click()})})})});cC.displayName=cB;var cD=o.forwardRef((a,b)=>{let{__scopeRadioGroup:c,...d}=a,e=cx(c);return(0,g.jsx)(cp,{...e,...d,ref:b})});cD.displayName="RadioGroupIndicator";let cE=(0,h.A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),cF=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(cA,{className:(0,bv.cn)("grid gap-2",a),...b,ref:c}));cF.displayName=cA.displayName;let cG=o.forwardRef(({className:a,...b},c)=>(0,g.jsx)(cC,{ref:c,className:(0,bv.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,g.jsx)(cD,{className:"flex items-center justify-center",children:(0,g.jsx)(cE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cG.displayName=cC.displayName;let cH=({open:a,onOpenChange:b,onAddReviews:c,onAddDocuments:d})=>{let[e,f]=(0,o.useState)("play"),[h,i]=(0,o.useState)(""),[j,k]=(0,o.useState)(null),[l,m]=(0,o.useState)(!1),[n,p]=(0,o.useState)([]),[q,r]=(0,o.useState)(null),[s,u]=(0,o.useState)(!1),w=(0,o.useRef)(null),x=async()=>{k(null);let a=h.trim();if(!a)return void k("Please enter an app page URL.");let d=a.includes("play.google.com")||"play"===e,f=a.includes("apps.apple.com")||a.includes("itunes.apple.com")||"apple"===e;if(!d&&!f)return void k("Please enter a valid Play Store or App Store app page URL.");m(!0);try{await c?.(e,a),i(""),k(null),b(!1)}catch(a){k(a instanceof Error?a.message:"Failed to add reviews source")}finally{m(!1)}},z=async()=>{if(r(null),0===n.length)return void r("Please select at least one file (Word, PDF, or Excel).");u(!0);try{await d?.(n),p([]),b(!1)}catch(a){r(a instanceof Error?a.message:"Failed to upload documents")}finally{u(!1)}};return(0,g.jsx)(a3,{open:a,onOpenChange:a=>{a||(i(""),k(null),p([]),r(null)),b(a)},children:(0,g.jsxs)(bx,{className:"sm:max-w-md",children:[(0,g.jsxs)(by,{children:[(0,g.jsx)(bz,{children:"Add sources"}),(0,g.jsx)(bA,{children:"Choose a source type and add app reviews or documents to your project."})]}),(0,g.jsxs)(b6,{defaultValue:"reviews",className:"w-full",children:[(0,g.jsxs)(cf,{className:"grid w-full grid-cols-2",children:[(0,g.jsxs)(cg,{value:"reviews",className:"flex items-center gap-2",children:[(0,g.jsx)(v,{className:"w-4 h-4"}),"Reviews"]}),(0,g.jsxs)(cg,{value:"documents",className:"flex items-center gap-2",children:[(0,g.jsx)(t,{className:"w-4 h-4"}),"Documents"]})]}),(0,g.jsxs)(ch,{value:"reviews",className:"space-y-4 mt-4",children:[(0,g.jsx)("p",{className:"text-sm text-muted-foreground",children:"Collect app reviews from a Google Play Store or Apple App Store app page."}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{children:"Store"}),(0,g.jsxs)(cF,{value:e,onValueChange:a=>f(a),className:"flex gap-4",children:[(0,g.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,g.jsx)(cG,{value:"play"}),(0,g.jsx)(y,{className:"w-4 h-4 text-muted-foreground"}),(0,g.jsx)("span",{className:"text-sm",children:"Play Store"})]}),(0,g.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,g.jsx)(cG,{value:"apple"}),(0,g.jsx)("span",{className:"text-sm",children:"App Store"})]})]})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"reviews-url",children:"App page URL"}),(0,g.jsx)(bC.p,{id:"reviews-url",type:"url",placeholder:"play"===e?"https://play.google.com/store/apps/details?id=...":"https://apps.apple.com/app/id...",value:h,onChange:a=>{i(a.target.value),k(null)},className:(0,bv.cn)(j&&"border-destructive")}),j&&(0,g.jsx)("p",{className:"text-sm text-destructive",children:j})]}),(0,g.jsx)(bD.$,{onClick:x,disabled:l,className:"w-full tofu-gradient text-primary-foreground hover:opacity-90",children:l?"Adding":"Add reviews source"})]}),(0,g.jsxs)(ch,{value:"documents",className:"space-y-4 mt-4",children:[(0,g.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload Word (.doc, .docx), PDF, or Excel (.xls, .xlsx) files."}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{children:"Files"}),(0,g.jsx)("input",{ref:w,type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx",multiple:!0,onChange:a=>{let b=Array.from(a.target.files??[]).filter(a=>a.name.endsWith(".pdf")||a.name.endsWith(".doc")||a.name.endsWith(".docx")||a.name.endsWith(".xls")||a.name.endsWith(".xlsx"));p(a=>[...a,...b]),r(null),w.current&&(w.current.value="")},className:"hidden"}),(0,g.jsx)(bD.$,{type:"button",variant:"outline",className:"w-full border-dashed",onClick:()=>w.current?.click(),children:"Choose Word, PDF, or Excel files"}),n.length>0&&(0,g.jsx)("ul",{className:"text-sm space-y-1 mt-2",children:n.map((a,b)=>(0,g.jsxs)("li",{className:"flex items-center justify-between gap-2 py-1 px-2 rounded bg-muted",children:[(0,g.jsx)("span",{className:"truncate text-foreground",children:a.name}),(0,g.jsx)("button",{type:"button",onClick:()=>{p(a=>a.filter((a,c)=>c!==b))},className:"text-muted-foreground hover:text-destructive shrink-0","aria-label":`Remove ${a.name}`,children:"\xd7"})]},`${a.name}-${b}`))}),q&&(0,g.jsx)("p",{className:"text-sm text-destructive",children:q})]}),(0,g.jsx)(bD.$,{onClick:z,disabled:0===n.length||s,className:"w-full tofu-gradient text-primary-foreground hover:opacity-90",children:s?"Uploading":"Add documents"})]})]})]})})};var cI=c(5478);let cJ=({mobile:a})=>{let{isAuthenticated:b}=(0,q.A)(),[c,d]=(0,o.useState)([]),[e,f]=(0,o.useState)(""),[h,i]=(0,o.useState)(!1),[k,l]=(0,o.useState)(!0),[m,n]=(0,o.useState)(null),p=(0,o.useCallback)(async()=>{if(b){l(!0),n(null);try{let a=await (0,cI.dh)();d(a)}catch(a){n(a instanceof Error?a.message:"Failed to load sources"),d([])}finally{l(!1)}}},[b]);(0,o.useEffect)(()=>{p()},[p]);let r=async a=>{let b=c.map(b=>b.id===a?{...b,selected:!b.selected}:b);d(b);try{let a=await (0,cI.UU)(b);d(a)}catch{d(c)}},s=c.length>0&&c.every(a=>a.selected),y=async()=>{let a=c.map(a=>({...a,selected:!s}));d(a);try{let b=await (0,cI.UU)(a);d(b)}catch{d(c)}},z=async(a,b)=>{try{await (0,cI.g9)(a,b),await p()}catch(a){throw a}},A=async a=>{try{await (0,cI.jx)(a),await p()}catch(a){throw a}};return(0,g.jsxs)("aside",{className:`${a?"w-full h-full":"w-72 min-w-[280px] border-r"} border-border flex flex-col panel-bg pb-safe`,children:[(0,g.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-sm font-semibold text-foreground",children:"Sources"}),(0,g.jsx)("button",{className:"p-1 rounded hover:bg-muted transition-colors",children:(0,g.jsxs)("svg",{className:"w-4 h-4 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,g.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"})]})})]}),(0,g.jsxs)("div",{className:"p-3",children:[(0,g.jsxs)("button",{onClick:()=>i(!0),className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 border border-dashed border-border rounded-lg text-sm text-muted-foreground hover:bg-muted hover:text-foreground transition-colors",children:[(0,g.jsx)(j,{className:"w-4 h-4"}),"Add Sources"]}),(0,g.jsx)(cH,{open:h,onOpenChange:i,onAddReviews:z,onAddDocuments:A})]}),(0,g.jsx)("div",{className:"px-3 pb-2",children:(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,g.jsx)("input",{type:"text",placeholder:"Search sources...",value:e,onChange:a=>f(a.target.value),className:"w-full pl-9 pr-3 py-2 text-sm bg-muted rounded-lg border-none outline-none focus:ring-2 focus:ring-ring text-foreground placeholder:text-muted-foreground"})]})}),(0,g.jsx)("div",{className:"px-3 pb-2",children:(0,g.jsxs)("button",{onClick:y,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-foreground transition-colors",children:[(0,g.jsx)("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${s?"bg-primary border-primary":"border-border"}`,children:s&&(0,g.jsx)("svg",{className:"w-3 h-3 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,g.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),"Select All Sources"]})}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto px-3 space-y-1",children:k?(0,g.jsx)("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Loading sources"}):m?(0,g.jsx)("p",{className:"text-sm text-destructive py-4 text-center",children:m}):c.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())).map(a=>(0,g.jsxs)("div",{onClick:()=>r(a.id),className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-muted transition-colors group",children:[(0,g.jsx)("div",{className:`w-4 h-4 rounded border flex-shrink-0 flex items-center justify-center transition-colors ${a.selected?"bg-primary border-primary":"border-border"}`,children:a.selected&&(0,g.jsx)("svg",{className:"w-3 h-3 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,g.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(a=>{switch(a){case"pdf":return(0,g.jsx)(t,{className:"w-4 h-4 text-destructive"});case"link":return(0,g.jsx)(u,{className:"w-4 h-4 text-primary"});case"transcript":return(0,g.jsx)(t,{className:"w-4 h-4 text-tofu-warm"});case"reviews":return(0,g.jsx)(v,{className:"w-4 h-4 text-amber-500"});case"document":return(0,g.jsx)(w,{className:"w-4 h-4 text-emerald-600"})}})(a.type),(0,g.jsx)("span",{className:"text-sm truncate text-foreground",children:a.name})]},a.id))})]})},cK=(0,h.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),cL=(0,h.A)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),cM=(0,h.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),cN=(0,h.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),cO=(0,h.A)("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),cP=(0,h.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),cQ=(0,h.A)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),cR=(0,h.A)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),cS=(0,h.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function cT({open:a,onOpenChange:b,onSaved:d}){let[e,f]=(0,o.useState)(""),[h,i]=(0,o.useState)(""),[j,k]=(0,o.useState)(""),[l,m]=(0,o.useState)(null),[n,p]=(0,o.useState)(!1),q=async()=>{m(null);let a=e.trim().replace(/^https?:\/\//,"").replace(/\/$/,"");if(!a||!h.trim()||!j.trim())return void m("Domain, email, and API token are required.");p(!0);try{let{saveJiraConfig:e}=await Promise.resolve().then(c.bind(c,5478));await e(a,h.trim(),j.trim()),d(),b(!1),f(""),i(""),k("")}catch(a){m(a instanceof Error?a.message:"Failed to save")}finally{p(!1)}};return(0,g.jsx)(a3,{open:a,onOpenChange:b,children:(0,g.jsxs)(bx,{className:"sm:max-w-md",children:[(0,g.jsxs)(by,{children:[(0,g.jsx)(bz,{children:"Jira configuration"}),(0,g.jsxs)(bA,{children:["Connect your Jira to create tickets from insights. Use your Atlassian email and an"," ",(0,g.jsx)("a",{href:"https://id.atlassian.com/manage-profile/security/api-tokens",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"API token"}),"."]})]}),(0,g.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-domain",children:"Jira domain"}),(0,g.jsx)(bC.p,{id:"jira-domain",placeholder:"your-site.atlassian.net",value:e,onChange:a=>f(a.target.value)})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-email",children:"Email"}),(0,g.jsx)(bC.p,{id:"jira-email",type:"email",placeholder:"you@company.com",value:h,onChange:a=>i(a.target.value)})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-token",children:"API token"}),(0,g.jsx)(bC.p,{id:"jira-token",type:"password",placeholder:"",value:j,onChange:a=>k(a.target.value)})]}),l&&(0,g.jsx)("p",{className:"text-sm text-destructive",children:l}),(0,g.jsx)(bD.$,{onClick:q,disabled:n,className:"w-full tofu-gradient text-primary-foreground hover:opacity-90",children:n?"Saving":"Save"})]})]})})}function cU({open:a,onOpenChange:b,insight:c,initialProjectKey:d="",onCreated:e}){let[f,h]=(0,o.useState)(c),[i,j]=(0,o.useState)(c),[k,l]=(0,o.useState)(d),[m,n]=(0,o.useState)("Task"),[p,q]=(0,o.useState)(null),[r,s]=(0,o.useState)(!1),[t,u]=(0,o.useState)(null),v=a=>{a||(h(c),j(c),l(""),n("Task"),q(null),u(null)),b(a)},w=async()=>{if(q(null),!f.trim())return void q("Summary is required.");if(!k.trim())return void q("Project key is required (e.g. KAN).");s(!0);try{let a=await (0,cI.mC)({summary:f.trim(),description:i.trim()||f.trim(),projectKey:k.trim(),issueType:m.trim()||void 0});u(a.url),e?.(a.url,k.trim())}catch(a){q(a instanceof Error?a.message:"Failed to create issue")}finally{s(!1)}};return(0,g.jsx)(a3,{open:a,onOpenChange:v,children:(0,g.jsxs)(bx,{className:"sm:max-w-md",children:[(0,g.jsxs)(by,{children:[(0,g.jsx)(bz,{children:"Create Jira ticket"}),(0,g.jsx)(bA,{children:"Create a Jira issue from this insight. Edit summary and optional fields below."})]}),(0,g.jsx)("div",{className:"space-y-4 pt-2",children:t?(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("p",{className:"text-sm text-foreground",children:"Ticket created."}),(0,g.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary underline",children:"Open in Jira"}),(0,g.jsx)("div",{className:"flex gap-2 pt-2",children:(0,g.jsx)(bD.$,{variant:"outline",onClick:()=>v(!1),children:"Close"})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-summary",children:"Summary"}),(0,g.jsx)(bC.p,{id:"jira-summary",value:f,onChange:a=>h(a.target.value),placeholder:"Issue summary"})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-description",children:"Description (optional)"}),(0,g.jsx)(bC.p,{id:"jira-description",value:i,onChange:a=>j(a.target.value),placeholder:"Issue description"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-project",children:"Project key"}),(0,g.jsx)(bC.p,{id:"jira-project",value:k,onChange:a=>l(a.target.value),placeholder:"e.g. PROJ"})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(bB.J,{htmlFor:"jira-type",children:"Issue type"}),(0,g.jsx)(bC.p,{id:"jira-type",value:m,onChange:a=>n(a.target.value),placeholder:"Task"})]})]}),p&&(0,g.jsx)("p",{className:"text-sm text-destructive",children:p}),(0,g.jsx)(bD.$,{onClick:w,disabled:r,className:"w-full tofu-gradient text-primary-foreground hover:opacity-90",children:r?"Creating":"Create issue"})]})})]})})}let cV=["What should we build next based on customer feedback?","Create a PRD for the most requested feature.","Which pain points appear most frequently in the interviews?"],cW=()=>{let[a,b]=(0,o.useState)([{role:"assistant",content:"Based on the **47 customer interviews** and usage data, I've summarized the key insights:\n\n**Top Pain Points:**\n- 73% of users report difficulties with **feature prioritization**\n- Missing connection between **customer feedback** and **development planning**\n- Manual synthesis of interviews takes an average of **12 hours per sprint**\n\n**Recommended Next Steps:**\n1. Implement automatic feedback categorization\n2. Calculate impact score based on user frequency\n3. Direct integration with the development backlog"}]),[c,d]=(0,o.useState)(""),[e,f]=(0,o.useState)([]),[h,i]=(0,o.useState)(!1),[j,k]=(0,o.useState)(null),[l,m]=(0,o.useState)(!1),[n,p]=(0,o.useState)(!1),[q,r]=(0,o.useState)(!1),[s,t]=(0,o.useState)(""),[u,v]=(0,o.useState)("");(0,o.useEffect)(()=>{(0,cI.jd)().then(a=>{m(!!a?.configured),a?.lastProjectKey&&v(a.lastProjectKey)})},[]);let w=async()=>{k(null),i(!0);try{let a=(await (0,cI.dh)()).filter(a=>a.selected).map(a=>a.id);if(0===a.length)return void k("Select at least one source in the left panel.");let{insights:b}=await (0,cI.TW)(a);f(b||[])}catch(a){k(a instanceof Error?a.message:"Analysis failed"),f([])}finally{i(!1)}},x=async()=>{if(!c.trim())return;d("");let e=[...a,{role:"user",content:c}];b([...e,{role:"assistant",content:"Thinking..."}]);try{let d=(await (0,cI.dh)()).filter(a=>a.selected).map(a=>a.id),f=await (0,cI.zv)(c,d,a);b([...e,{role:"assistant",content:f.content}])}catch(a){b([...e,{role:"assistant",content:"Sorry, I encountered an error. Please check your connection and Gemini API key."}])}};return(0,g.jsxs)("main",{className:"flex-1 flex flex-col min-w-0 panel-bg",children:[(0,g.jsxs)("div",{className:"px-6 py-3 border-b border-border flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-sm font-semibold text-foreground",children:"Chat"}),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsxs)("button",{onClick:w,disabled:h,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium tofu-gradient text-primary-foreground hover:opacity-90 transition-opacity disabled:opacity-70",children:[(0,g.jsx)(cK,{className:"w-4 h-4"}),h?"Analyzing":"Analyze sources"]}),(0,g.jsx)("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",children:(0,g.jsx)(cL,{className:"w-4 h-4 text-muted-foreground"})}),(0,g.jsx)("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",children:(0,g.jsx)(cM,{className:"w-4 h-4 text-muted-foreground"})})]})]}),e.length>0&&(0,g.jsxs)("div",{className:"px-6 py-4 border-b border-border bg-muted/30",children:[(0,g.jsx)("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Insights (project manager)"}),(0,g.jsx)("ul",{className:"space-y-2",children:e.map((a,b)=>(0,g.jsxs)("li",{className:"flex items-start gap-2 text-sm text-foreground bg-background border border-border rounded-lg px-3 py-2",children:[(0,g.jsx)("span",{className:"flex-1 min-w-0",children:a}),(0,g.jsxs)("button",{type:"button",onClick:()=>(a=>{l?(t(a),r(!0)):(p(!0),t(a))})(a),className:"flex items-center gap-1.5 shrink-0 px-2.5 py-1 rounded-md text-xs font-medium bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:[(0,g.jsx)(cN,{className:"w-3.5 h-3.5"}),"Create Jira ticket"]})]},b))})]}),j&&(0,g.jsx)("div",{className:"px-6 py-2 text-sm text-destructive",children:j}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[a.map((a,b)=>(0,g.jsx)("div",{children:"assistant"===a.role?(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("div",{className:"text-sm leading-relaxed text-foreground whitespace-pre-line",children:a.content.split(/(\*\*[^*]+\*\*)/g).map((a,b)=>a.startsWith("**")&&a.endsWith("**")?(0,g.jsx)("strong",{className:"font-semibold text-foreground",children:a.slice(2,-2)},b):(0,g.jsx)("span",{children:a},b))}),(0,g.jsxs)("div",{className:"flex items-center gap-1 pt-1",children:[(0,g.jsx)("button",{className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Save to Note",children:(0,g.jsx)(cO,{className:"w-3.5 h-3.5 text-muted-foreground"})}),(0,g.jsx)("button",{className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Copy",children:(0,g.jsx)(cP,{className:"w-3.5 h-3.5 text-muted-foreground"})}),(0,g.jsx)("button",{className:"p-1.5 rounded hover:bg-muted transition-colors",children:(0,g.jsx)(cQ,{className:"w-3.5 h-3.5 text-muted-foreground"})}),(0,g.jsx)("button",{className:"p-1.5 rounded hover:bg-muted transition-colors",children:(0,g.jsx)(cR,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]}):(0,g.jsx)("div",{className:"flex justify-end",children:(0,g.jsx)("div",{className:"tofu-gradient text-primary-foreground px-4 py-2.5 rounded-2xl rounded-br-md text-sm max-w-md",children:a.content})})},b)),(0,g.jsx)("div",{className:"space-y-2 pt-2",children:cV.map((a,b)=>(0,g.jsx)("button",{onClick:()=>{d(a)},className:"block w-fit text-left text-sm px-4 py-2.5 suggestion-bg rounded-xl suggestion-hover transition-colors text-foreground border border-border",children:a},b))})]}),(0,g.jsxs)("div",{className:"p-4 border-t border-border bg-background",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 chat-input-bg border border-border rounded-xl px-4 py-2 focus-within:ring-2 focus-within:ring-ring transition-shadow mb-safe",children:[(0,g.jsx)("input",{type:"text",placeholder:"Type a message...",value:c,onChange:a=>d(a.target.value),onKeyDown:a=>"Enter"===a.key&&x(),className:"flex-1 bg-transparent text-sm outline-none text-foreground placeholder:text-muted-foreground"}),(0,g.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"3 Sources"}),(0,g.jsx)("button",{onClick:x,className:"p-1.5 rounded-lg tofu-gradient text-primary-foreground hover:opacity-90 transition-opacity",children:(0,g.jsx)(cS,{className:"w-4 h-4"})})]}),(0,g.jsx)("p",{className:"text-[11px] text-muted-foreground text-center mt-2",children:"tofuOS can make mistakes. Please verify the responses."})]}),(0,g.jsx)(cT,{open:n,onOpenChange:p,onSaved:()=>{(0,cI.jd)().then(a=>{m(!!a?.configured),a?.lastProjectKey&&v(a.lastProjectKey)}),s&&r(!0)}}),(0,g.jsx)(cU,{open:q,onOpenChange:r,insight:s,initialProjectKey:u,onCreated:(a,b)=>{v(b)}})]})},cX=(0,h.A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),cY=(0,h.A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),cZ=(0,h.A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),c$=(0,h.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),c_=(0,h.A)("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),c0=(0,h.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),c1=(0,h.A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c2=(0,h.A)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),c3=(0,h.A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),c4=(0,h.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),c5=[{id:"prd",label:"PRD",icon:(0,g.jsx)(t,{className:"w-4 h-4"}),color:"text-primary"},{id:"coding-rules",label:"AI Coding Rules & Standards",icon:(0,g.jsx)(cX,{className:"w-4 h-4"}),color:"text-tofu-warm"},{id:"api-docs",label:"API Documentation",icon:(0,g.jsx)(cY,{className:"w-4 h-4"}),color:"text-primary"},{id:"accessibility",label:"Accessibility Compliance",icon:(0,g.jsx)(cZ,{className:"w-4 h-4"}),color:"text-tofu-warm"},{id:"architecture",label:"App Architecture Plan",icon:(0,g.jsx)(c$,{className:"w-4 h-4"}),color:"text-primary"},{id:"bug-fix",label:"Bug Investigation & Fix Plan",icon:(0,g.jsx)(c_,{className:"w-4 h-4"}),color:"text-destructive"},{id:"competitive",label:"Competitive Analysis Report",icon:(0,g.jsx)(k,{className:"w-4 h-4"}),color:"text-tofu-warm"},{id:"journey-map",label:"Customer Journey Map",icon:(0,g.jsx)(c0,{className:"w-4 h-4"}),color:"text-primary"},{id:"db-schema",label:"Database Schema Design",icon:(0,g.jsx)(c1,{className:"w-4 h-4"}),color:"text-tofu-warm"},{id:"feature-spec",label:"Feature Implementation Spec",icon:(0,g.jsx)(c2,{className:"w-4 h-4"}),color:"text-primary"},{id:"gtm",label:"Go-to-Market Plan",icon:(0,g.jsx)(c3,{className:"w-4 h-4"}),color:"text-tofu-warm"}],c6=({mobile:a})=>{let[b,c]=(0,o.useState)(null);return(0,g.jsxs)("aside",{className:`${a?"w-full h-full":"w-80 min-w-[300px] border-l"} border-border flex flex-col panel-bg`,children:[(0,g.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-sm font-semibold text-foreground",children:"Studio"}),(0,g.jsx)("button",{className:"p-1 rounded hover:bg-muted transition-colors",children:(0,g.jsxs)("svg",{className:"w-4 h-4 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,g.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,g.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"})]})})]}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto p-3",children:(0,g.jsx)("div",{className:"grid grid-cols-2 gap-2",children:c5.map(a=>(0,g.jsxs)("button",{onClick:()=>c(b===a.id?null:a.id),className:`flex items-center gap-2.5 p-3 rounded-xl text-left transition-all group ${b===a.id?"bg-primary/10 border border-primary/30":"studio-card-bg studio-card-hover border border-transparent"}`,children:[(0,g.jsx)("span",{className:a.color,children:a.icon}),(0,g.jsx)("span",{className:"text-xs font-medium text-foreground leading-tight flex-1",children:a.label}),(0,g.jsx)(c4,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},a.id))})}),(0,g.jsxs)("div",{className:"p-4 border-t border-border bg-background pb-safe",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center text-center py-6",children:[(0,g.jsx)(cK,{className:"w-6 h-6 text-primary mb-2"}),(0,g.jsx)("p",{className:"text-sm font-medium text-primary",children:"Studio output will be saved here."}),(0,g.jsx)("p",{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:"After adding sources, click to generate PRDs, Feature Specs, and more."})]}),(0,g.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 tofu-gradient text-primary-foreground rounded-xl text-sm font-medium hover:opacity-90 transition-opacity",children:[(0,g.jsx)(t,{className:"w-4 h-4"}),"Create Document"]})]})]})},c7=()=>{let a=function(){let[a,b]=o.useState(void 0);return o.useEffect(()=>{let a=window.matchMedia("(max-width: 1023px)"),c=()=>{b(window.innerWidth<1024)};return a.addEventListener("change",c),b(window.innerWidth<1024),()=>a.removeEventListener("change",c)},[]),!!a}(),[b,c]=(0,o.useState)("chat");return a?(0,g.jsxs)("div",{className:"h-[100dvh] flex flex-col bg-background overflow-hidden",children:[(0,g.jsx)(s,{}),(0,g.jsx)("div",{className:"flex border-b border-border",children:[{key:"sources",label:"Sources"},{key:"chat",label:"Chat"},{key:"studio",label:"Studio"}].map(a=>(0,g.jsxs)("button",{onClick:()=>c(a.key),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${b===a.key?"text-foreground":"text-muted-foreground"}`,children:[a.label,b===a.key&&(0,g.jsx)("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-0.5 bg-primary rounded-full"})]},a.key))}),(0,g.jsxs)("div",{className:"flex-1 min-h-0",children:["sources"===b&&(0,g.jsx)(cJ,{mobile:!0}),"chat"===b&&(0,g.jsx)(cW,{}),"studio"===b&&(0,g.jsx)(c6,{mobile:!0})]})]}):(0,g.jsxs)("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[(0,g.jsx)(s,{}),(0,g.jsxs)("div",{className:"flex flex-1 min-h-0",children:[(0,g.jsx)(cJ,{}),(0,g.jsx)(cW,{}),(0,g.jsx)(c6,{})]})]})};var c8=c(2378);let c9=({children:a})=>{let{isAuthenticated:b,isLoading:c}=(0,q.A)(),d=(0,c8.useRouter)();return((0,o.useEffect)(()=>{c||b||d.push("/login")},[c,b,d]),c)?(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,g.jsx)("div",{className:"w-8 h-8 rounded-lg tofu-gradient animate-pulse"})}):b?(0,g.jsx)(g.Fragment,{children:a}):null};function da(){return(0,g.jsx)(c9,{children:(0,g.jsx)(c7,{})})}},5284:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(8743),e=c(8301),f=c(6425),g=c(6691),h=c(4943);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},5478:(a,b,c)=>{"use strict";c.d(b,{TW:()=>i,UU:()=>f,dh:()=>e,g9:()=>g,jd:()=>k,jx:()=>h,mC:()=>m,saveJiraConfig:()=>l,zv:()=>j});var d=c(814);async function e(){let{data:a,error:b}=await d.N.from("sources").select("*").order("created_at",{ascending:!0});return b?(console.error("Error fetching sources:",b),[]):a}async function f(a){for(let b of a)await d.N.from("sources").update({selected:b.selected}).eq("id",b.id);return a}async function g(a,b){let{data:{user:c}}=await d.N.auth.getUser();if(!c)throw Error("Not authenticated");let e={name:`${"play"===a?"Play Store":"App Store"} Reviews`,type:"reviews",selected:!0,meta:{store:a,url:b},user_id:c.id},{data:f,error:g}=await d.N.from("sources").insert(e).select().single();if(g)throw g;return f}async function h(a){let{data:{user:b}}=await d.N.auth.getUser();if(!b)throw Error("Not authenticated");let c=a.map(a=>({name:a.name,type:a.name.toLowerCase().endsWith(".pdf")?"pdf":"document",selected:!0,user_id:b.id})),{data:e,error:f}=await d.N.from("sources").insert(c).select();if(f)throw f;return e}async function i(a){let b=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceIds:a})});if(!b.ok)throw Error((await b.json()).message||"Analysis failed");return b.json()}async function j(a,b,c){let d=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,sourceIds:b,history:c})});if(!d.ok)throw Error((await d.json()).message||"Chat failed");return d.json()}async function k(){let{data:a,error:b}=await d.N.from("jira_configs").select("*").single();return b&&"PGRST116"!==b.code?(console.error("Error fetching Jira config:",b),{configured:!1}):a?{...a,configured:!0,hasToken:!!a.api_token,lastProjectKey:a.last_project_key}:{configured:!1}}async function l(a,b,c){let{data:{user:e}}=await d.N.auth.getUser();if(!e)throw Error("Not authenticated");let{error:f}=await d.N.from("jira_configs").upsert({domain:a,email:b,api_token:c,user_id:e.id},{onConflict:"user_id"});if(f)throw f}async function m(a){let{data:{session:b}}=await d.N.auth.getSession(),c=await fetch("/api/jira/create-issue",{method:"POST",headers:{"Content-Type":"application/json",...b?.access_token?{Authorization:`Bearer ${b.access_token}`}:{}},body:JSON.stringify(a)});if(!c.ok)throw Error((await c.json()).message||"Failed to create Jira issue");return c.json()}},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6554:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,1170,23)),Promise.resolve().then(c.t.bind(c,3597,23)),Promise.resolve().then(c.t.bind(c,6893,23)),Promise.resolve().then(c.t.bind(c,9748,23)),Promise.resolve().then(c.t.bind(c,3679,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,9576,23)),Promise.resolve().then(c.t.bind(c,3041,23)),Promise.resolve().then(c.t.bind(c,1384,23))},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},8014:(a,b,c)=>{Promise.resolve().then(c.bind(c,5058))},8120:(a,b,c)=>{"use strict";c.d(b,{J:()=>j});var d=c(8743),e=c(8301),f=c(1538),g=c(6691),h=c(4943);let i=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.b,{ref:c,className:(0,h.cn)(i(),a),...b}));j.displayName=f.b.displayName},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9696:(a,b,c)=>{Promise.resolve().then(c.bind(c,1172))}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[331,994,235],()=>b(b.s=4118));module.exports=c})();